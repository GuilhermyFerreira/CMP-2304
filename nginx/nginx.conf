server {
    listen 80;

    # Roteamento para o Frontend (/)
    location / {
        proxy_pass http://frontend:5173; # Usa o nome do serviço e a porta interna
        proxy_set_header Host $host;
        # ... outros headers ...
    }

    # Roteamento para o Backend (/api/)
    location /api/ {
        # Remove o prefixo /api/ antes de enviar para o backend
        rewrite ^/api/(.*)$ /$1 break;
        
        proxy_pass http://backend:4000; # Usa o nome do serviço e a porta interna
        proxy_set_header Host $host;
        # ... outros headers ...
    }
}